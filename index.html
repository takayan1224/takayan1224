<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>ã©ã™ã“ã„æƒé™¤</title>
  <style>
    /* â€”â€” å…¨ä½“èƒŒæ™¯ã¨ãƒ•ã‚©ãƒ³ãƒˆ â€”â€” */
    body {
      font-family: "Hiragino Kaku Gothic ProN", sans-serif;
      background: linear-gradient(to bottom right, #fce4ec, #e8f5e9);
      margin: 0;
      padding: 40px;
      text-align: center;
    }
    h1 {
      font-size: 42px;
      color: #ad1457;
      margin-bottom: 30px;
      text-shadow: 1px 1px 2px #fff;
    }

    /* â€”â€” è¨­å®šã‚¨ãƒªã‚¢ â€”â€” */
    #configArea {
      margin-bottom: 20px;
      font-size: 20px;
      color: #6a1b9a;
    }
    #timeInput {
      font-size: 20px;
      width: 60px;
      padding: 6px;
      border: 2px solid #ce93d8;
      border-radius: 6px;
      text-align: center;
      margin-left: 10px;
      margin-right: 20px;
    }

    /* â€”â€” ã‚²ãƒ¼ãƒ é–‹å§‹ãƒœã‚¿ãƒ³ â€”â€” */
    #startButton {
      font-size: 24px;
      padding: 12px 36px;
      background-color: #ec407a;
      color: #fff;
      border: none;
      border-radius: 24px;
      cursor: pointer;
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
    }
    #startButton:active {
      transform: translateY(2px);
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }

    /* â€”â€” ã‚²ãƒ¼ãƒ ã‚¨ãƒªã‚¢å…¨ä½“ â€”â€” */
    #gameArea {
      display: none;
      margin-top: 40px;
      background: #ffffffcc;
      padding: 30px;
      border-radius: 20px;
      box-shadow: 0 8px 16px rgba(0,0,0,0.1);
      max-width: 700px;
      width: 90%;
      margin-left: auto;
      margin-right: auto;
    }

    /* â€”â€” ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼å â€”â€” */
    #player {
      font-size: 30px;
      font-weight: bold;
      color: #6a1b9a;
      background: #f3e5f5;
      padding: 12px 20px;
      border-radius: 30px;
      display: inline-block;
      margin-bottom: 20px;
      white-space: nowrap;
    }

    /* â€”â€” ãŠé¡Œãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ â€”â€” */
    #prompt {
      font-size: 28px;
      line-height: 1.4;
      color: #4a148c;
      margin-bottom: 20px;
      white-space: nowrap;
    }
    /* å¼·èª¿éƒ¨åˆ† */
    #prompt .init,
    #prompt .length {
      font-size: 1.4em;
      font-weight: bold;
      color: #d81b60;
      background: #fce4ec;
      padding: 2px 8px;
      border-radius: 12px;
    }

    /* â€”â€” ã‚«ã‚¦ãƒ³ãƒˆãƒ€ã‚¦ãƒ³ â€”â€” */
    #timer {
      font-size: 72px;
      font-weight: bold;
      color: #c62828;
      margin-bottom: 20px;
      text-shadow: 1px 1px 2px #fff;
    }

    /* â€”â€” å…¥åŠ›æ¬„ & é€ä¿¡ãƒœã‚¿ãƒ³ â€”â€” */
    #answer {
      font-size: 20px;
      padding: 10px 14px;
      width: 240px;
      border: 2px solid #ce93d8;
      border-radius: 8px;
      margin-bottom: 20px;
      outline: none;
    }
    #submit {
      font-size: 22px;
      padding: 10px 36px;
      background-color: #ab47bc;
      color: #fff;
      border: none;
      border-radius: 24px;
      cursor: pointer;
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
      user-select: none;
    }
    #submit:active {
      transform: translateY(2px);
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }

    /* â€”â€” åˆ¤å®šãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ â€”â€” */
    #result {
      font-size: 28px;
      font-weight: bold;
      margin-top: 20px;
      min-height: 1.2em;
    }
    #result.clear {
      color: #2e7d32;
    }
    #result.out {
      color: #c62828;
    }
  </style>
</head>
<body>

  <h1>ğŸŒ¸ ã©ã™ã“ã„æƒé™¤ã‚²ãƒ¼ãƒ  ğŸŒ¸</h1>

  <div id="configArea">
    ã‚«ã‚¦ãƒ³ãƒˆãƒ€ã‚¦ãƒ³ç§’æ•°ï¼š
    <input id="timeInput" type="number" value="5" min="1" max="60"> ç§’
  </div>
  <button id="startButton">ã‚²ãƒ¼ãƒ ã‚¹ã‚¿ãƒ¼ãƒˆ</button>

  <div id="gameArea">
    <div id="player">â€” ã•ã‚“ã€æº–å‚™ä¸­â€¦</div>
    <div id="prompt">
      ã€Œ<span class="init">ã€‡</span>ã€ã‹ã‚‰å§‹ã¾ã‚‹<span class="length">ã€‡</span>æ–‡å­—ã® è¨€è‘‰ã¯ï¼Ÿ
    </div>
    <div id="timer">5</div>
    <input id="answer" type="text" placeholder="ã“ã“ã«å…¥åŠ›">
    <div><button id="submit">é€ä¿¡</button></div>
    <div id="result"></div>
  </div>

  <script>
    const students = [
      "è¶³ç«‹ æ˜Šç¥","æœ‰å‚ ã•ãã‚‰","å®‰è—¤ æœ±é‡Œ","çŸ³å·ã€€ä¼Šç¹”","å²©ç”° å‡›ç©º","ä¸Šé‡ ç¨€æœˆå‡œ","ä¸Šæ‘ å•“å¿ƒ","å®‡é‡ ç‘šéŸ³ç¾","å¥¥ç”° æ²»å¼¥","å°¾èŠ± çˆ½å¤ª",
      "ç‰‡å±± å¿ƒçµ","ç‰‡å±± è‰å­","å·æœ¬ é™½æ–—","ä½ã€…æœ¨ ç´¬å¸Œ","æ¸…æ°´ å­¦","æ‰ç”° æºäºº","è¢–å²¡ èŠ½å¸Œ","é«˜å±± ç´—èœ","ç«¹å†… ç‘›åŸº","ç«¹å²¡ äºœæƒŸå­",
      "ç”°ä¸­ éŸ¿æ®","æ°¸æ¾¤ ç´ç¾½","è¥¿ç”° å•å¸Œ","è¥¿å±± æœå‡›","é‡å´ é¥æ–—","å…«æ¿± æ‚ æ–—","æ¿±é‡ æ—­å¸Œ","æ— å„ªæœˆ","æ±ç”° ç«œä¹‹ä»‹","ç¦ç”° éº»åš",
      "è—¤é‡ å°šè¼","è—¤æ— æ","å¤æ¾¤ æ‚ æ¢¨èŠ±","æ˜Ÿé‡ æƒ³çœŸ","æ¾ç”° æ—¥å‘‚æ¨¹","ä¸¸å±± ä¸€å¿ƒ","æ£®æœ¬ å‹é‡Œ","å±±ä¸‹ ç©‚","å±±æœ¬ ã•ãã‚‰","ç±³å±± ã™ã¿ã‚Œ"
    ];
    const hiragana = "ã‚ã„ã†ãˆãŠã‹ããã‘ã“ã•ã—ã™ã›ããŸã¡ã¤ã¦ã¨ãªã«ã¬ã­ã®ã¯ã²ãµã¸ã»ã¾ã¿ã‚€ã‚ã‚‚ã‚„ã‚†ã‚ˆã‚‰ã‚Šã‚‹ã‚Œã‚ã‚ã‚’";

    const startButton = document.getElementById("startButton");
    const configArea  = document.getElementById("configArea");
    const timeInput   = document.getElementById("timeInput");
    const gameArea    = document.getElementById("gameArea");
    const playerEl    = document.getElementById("player");
    const promptEl    = document.getElementById("prompt");
    const timerEl     = document.getElementById("timer");
    const answerEl    = document.getElementById("answer");
    const submitEl    = document.getElementById("submit");
    const resultEl    = document.getElementById("result");

    let currentName, currentInit, currentLen, timerInterval;

    function nextRound() {
      clearInterval(timerInterval);
      resultEl.textContent = "";
      answerEl.value = "";

      currentName = students[Math.floor(Math.random() * students.length)];
      playerEl.textContent = `${currentName} ã•ã‚“ã€è§£ç­”ã—ã¦ãã ã•ã„`;

      currentInit = hiragana.charAt(Math.floor(Math.random() * hiragana.length));
      currentLen  = Math.floor(Math.random() * 5) + 2; // 2ã€œ6æ–‡å­—
      promptEl.querySelector(".init").textContent   = currentInit;
      promptEl.querySelector(".length").textContent = currentLen;

      answerEl.focus();

      let timeLeft = parseInt(timeInput.value, 10) || 5;
      timerEl.textContent = timeLeft;
      timerInterval = setInterval(() => {
        timeLeft--;
        if (timeLeft >= 0) timerEl.textContent = timeLeft;
        if (timeLeft <= 0) clearInterval(timerInterval);
      }, 1000);
    }

    submitEl.addEventListener("click", function(e) {
      const rect = this.getBoundingClientRect();
      const x = e.clientX - rect.left;
      const isClear = x < rect.width / 2;
      clearInterval(timerInterval);
      if (isClear) {
        resultEl.textContent = "ã‚¯ãƒªã‚¢ï¼";
        resultEl.className = "clear";
      } else {
        resultEl.textContent = "ã‚¢ã‚¦ãƒˆï¼";
        resultEl.className = "out";
      }
      setTimeout(nextRound, 1000);
    });

    startButton.addEventListener("click", () => {
      configArea.style.display  = "none";
      startButton.style.display = "none";
      gameArea.style.display    = "block";
      nextRound();
    });
  </script>

</body>
</html>
